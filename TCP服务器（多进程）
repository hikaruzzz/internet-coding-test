#coding = utf-8

from socket import *
import re
import threading
udpSocket = socket(AF_INET,SOCK_DGRAM)

sendAddr = ('192.168.0.107',8080)

sendMessage = input("input message")

bindAddr = ('',1818)  #‘’为ip号，默认为本地。绑定端口ip，可防止系统随机分导致没固定接收口

udpSocket.bind(bindAddr) #绑定，接收发送端都可以绑定，作为固定接收发送口


udpSocket.sendto(sendMessage,sendAddr)

recvMessage = udpSocket.recvfrom(1024)

commond = re.findall(recvMessage[1],'ping.*')

if commond == 'ping' :
    udpSocket.sendto('hi,ping success', sendAddr)

print(recvMessage)

udpSocket.close()
